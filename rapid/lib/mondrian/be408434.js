"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[982],{4247:(t,e,n)=>{n.d(e,{A:()=>s});var o=n(1182),i=n.n(o),r=n(2806),a=n.n(r)()(i());a.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2)) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]),a.locals={textItem:"hXRin0tc"};const s=a},8982:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Ke});var o=n(6218);function i(t){(0,o.append_styles)(t,"svelte-su3qhz",".mondrian__img-1XHDzr{height:100%;width:100%}")}function r(t){let e,n;return{c(){e=(0,o.element)("div"),(0,o.attr)(e,"aria-label",n=t[0].alt),(0,o.attr)(e,"class","mondrian__img-1XHDzr"),(0,o.attr)(e,"role","img")},m(t,n){(0,o.insert)(t,e,n)},p(t,[i]){1&i&&n!==(n=t[0].alt)&&(0,o.attr)(e,"aria-label",n)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e)}}}function a(t,e,n){let{item:o}=e;return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o]}n(9763);class s extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,a,r,o.safe_not_equal,{item:0},i)}}const d=s;var l=n(7268),c=n(6195);class u{constructor(t){this.parse=t=>this.zod.parse(t),this.is=t=>this.zod.safeParse(t).success,this.assert=t=>{this.parse(t)},this.zod=t}}const m=new u(c.Ay.object({name:c.Ay.enum(["fadeInUp"]),delay:c.Ay.number().min(0),duration:c.Ay.number().positive(),easing:c.Ay.enum(["ease","ease-in","ease-out","ease-in-out","linear","step-start","step-end"])})),p=new u(c.Ay.object({id:c.Ay.string(),path:c.Ay.string(),width:c.Ay.number().optional(),height:c.Ay.number().optional()})),_=new u(c.Ay.object({unit:c.Ay.enum(["px","%","auto","fr"]),value:c.Ay.number()})),g=new u(c.Ay.object({applied:c.Ay.boolean().default(!1),type:c.Ay.enum(["none","fill"]).default("none"),color:c.Ay.string().default("#000000"),opacity:c.Ay.number().default(1),style:c.Ay.enum(["solid","dashed","dotted"]).default("solid"),width:_.zod.default({value:1,unit:"px"})})),f=new u(c.Ay.object({assetId:c.Ay.string().optional(),color:c.Ay.string().optional(),opacity:c.Ay.number().min(0).max(1).default(1)})),y=new u(f.zod.extend({type:c.Ay.literal("color"),color:f.zod.shape.color.unwrap().default("#e4e4e4")})),b=new u(f.zod.extend({type:c.Ay.literal("image"),assetId:f.zod.shape.assetId.unwrap()})),h=new u(f.zod.extend({type:c.Ay.literal("none")})),v=new u(c.Ay.discriminatedUnion("type",[y.zod,b.zod,h.zod])),$=new u(c.Ay.discriminatedUnion("type",[y.zod,h.zod])),A=new u(c.Ay.object({id:c.Ay.string(),clonedFromId:c.Ay.string().optional(),state:c.Ay.string(),visible:c.Ay.boolean()})),w=new u(c.Ay.object({top:_.zod.default({value:0,unit:"px"}),left:_.zod.default({value:0,unit:"px"}),bottom:_.zod.default({value:0,unit:"px"}),right:_.zod.default({value:0,unit:"px"})})),x=new u(c.Ay.object({id:c.Ay.string(),type:c.Ay.literal("tiptap")})),C="default",N=c.Ay.object({id:c.Ay.string().default(C),name:c.Ay.string().max(128),children:c.Ay.array(A.zod).optional(),text:x.zod.optional(),textVerticalAlign:c.Ay.enum(["top","middle","bottom"]).default("top"),x:_.zod.default({value:0,unit:"px"}),y:_.zod.default({value:0,unit:"px"}),position:c.Ay.enum(["absolute"]).default("absolute"),width:_.zod.default({value:100,unit:"%"}),height:_.zod.default({value:100,unit:"%"}),padding:w.zod,fill:v.zod,overlay:$.zod,aspectRatioLocked:c.Ay.boolean().default(!1),clipPath:c.Ay.literal("ellipse").optional(),border:g.zod,borderRadius:c.Ay.object({applied:c.Ay.boolean().default(!1),topLeft:_.zod.default({value:0,unit:"px"}),topRight:_.zod.default({value:0,unit:"px"}),bottomRight:_.zod.default({value:0,unit:"px"}),bottomLeft:_.zod.default({value:0,unit:"px"})}),entranceAnimation:m.zod.nullable().optional()}),k=new u(N),z=(new u(N.required({children:!0})),N.partial().required({id:!0,name:!0})),I=new u(z),S=new u(z.required({children:!0})),E="changeState",M="changeVisibility",q=new u(c.Ay.object({id:c.Ay.string(),event:c.Ay.enum(["click","hover"])}).and(c.Ay.discriminatedUnion("action",[c.Ay.object({action:c.Ay.literal(E),targetId:c.Ay.string(),targetState:c.Ay.string().default(C)}),c.Ay.object({action:c.Ay.literal(M),targetId:c.Ay.string(),targetVisibility:c.Ay.boolean()})]))),R=new u(c.Ay.object({id:c.Ay.string(),blockumentId:c.Ay.string(),clonedFromId:c.Ay.string().optional(),parentId:c.Ay.string(),type:c.Ay.string(),name:c.Ay.string().max(128),tagName:c.Ay.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:c.Ay.boolean().default(!1),authoringVisible:c.Ay.boolean().default(!0),initialVisible:c.Ay.boolean().default(!0),initialState:c.Ay.string().default(C),states:c.Ay.intersection(c.Ay.object({default:k.zod}),c.Ay.record(I.zod)),triggers:c.Ay.array(q.zod),assets:c.Ay.record(p.zod).default({}).optional(),removed:c.Ay.boolean().default(!1)})),j=(new u(c.Ay.object({id:c.Ay.string(),title:c.Ay.string().max(255),children:c.Ay.array(A.zod).max(1)})),new u(R.zod.extend({type:c.Ay.literal("group"),states:c.Ay.intersection(c.Ay.object({default:k.zod.required({children:!0})}),c.Ay.record(S.zod.required({children:!0})))}))),L=new u(R.zod.extend({type:c.Ay.literal("image"),alt:c.Ay.string()})),B=new u(R.zod.extend({type:c.Ay.literal("shape")})),J=new u(R.zod.extend({type:c.Ay.literal("text")}));new u(c.Ay.discriminatedUnion("type",[j.zod,L.zod,B.zod,J.zod]));var V,H;!function(t){t.Blockuments="blockuments",t.Items="items"}(V||(V={})),V.Blockuments,V.Items,function(t){t.APP="app",t.BLOCKUMENT="blockument",t.COURSE="course"}(H||(H={})),n(9840);var X=n(4198),T=n(4717),D=n(2359),Y=n(31),K=n(2740),P=n(1430);const O=/([a-z%]+)\s*$/i,U=X.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{textSize:{default:14,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const o=O.exec(e);if(null==o)return null;switch(o[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e})=>e().setMark("textStyle",{textSize:t}).run()})}),Z=X.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph"],attributes:{lineHeight:{default:1.2,parseHTML(t){const e=t.style.lineHeight,n=parseFloat(e);return isNaN(n)?null:n},renderHTML:t=>({style:`line-height: ${t.lineHeight};`})}}}],addCommands:()=>({setLineHeight:t=>({commands:e})=>e.updateAttributes("paragraph",{lineHeight:t})})});T.A.configure({types:["textStyle"]});const F=[P.A.configure({history:!1,heading:{levels:[1,2]}}),D.A.configure({types:["heading","paragraph"]}),Y.A,T.A,U,Z,K.A];(0,X._w)(F);var G=n(1120);const W=new Map,Q={...(0,G.writable)(W),add:(t,e)=>(W.has(t)||W.set(t,function(t){let e,n,o;t.subscribe((t=>{e=t}));const i=(0,G.writable)(e);i.subscribe((t=>{n=o??e,o=t}));const r={...i,revert(){r.set(n)},reset(){r.set(e)}};return r}(e)),W.get(t)),get(t){if(!W.has(t))throw new Error(`No state found for item ${t}`);return W.get(t)},resetAll(){[...W.values()].forEach((t=>{t.reset()}))}},tt=new Map,et={...(0,G.writable)(tt),add:(t,e)=>(tt.set(t,function(t){let e;t.subscribe((t=>{e=t}));const n={...(0,G.writable)(e),show(){n.set(!0)},hide(){n.set(!1)},reset(){n.set(e)}};return n}(e)),tt.get(t)),get(t){if(!tt.has(t))throw new Error(`No visibility found for item ${t}`);return tt.get(t)},resetAll(){[...tt.values()].forEach((t=>{t.reset()}))}};function nt(t,e,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}matchMedia("(prefers-reduced-motion)");const ot=new WeakMap;function it(t,e,n=Object.keys(t.states.default)){const o=t.states.default,i=structuredClone(t.states[e]);return n.reduce(((t,e)=>(t[e]||(t[e]=structuredClone(o[e])),t)),i)}new IntersectionObserver((t=>{for(const e of t){if(!e.isIntersecting)continue;const t=ot.get(e.target);null!=t&&"paused"===t.playState&&t.play()}}),{threshold:.3});const rt=({value:t,unit:e})=>{switch(e){case"auto":return"auto";case"px":return t/10+"rem";default:return(({value:t,unit:e})=>`${t}${e}`)({value:t,unit:e})}};function at(t){(0,o.append_styles)(t,"svelte-bbp0xy",".mondrian__clipped-KfJDq2{border-radius:inherit;display:flex;height:100%;inset:0;position:absolute;width:100%;z-index:-1}")}function st(t){let e,n;const i=t[7].default,r=(0,o.create_slot)(i,t,t[6],null);return{c(){e=(0,o.element)("div"),r&&r.c(),(0,o.attr)(e,"class","mondrian__clipped-KfJDq2"),(0,o.set_style)(e,"clip-path",t[0])},m(t,i){(0,o.insert)(t,e,i),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||64&a)&&(0,o.update_slot_base)(r,i,t,t[6],n?(0,o.get_slot_changes)(i,t[6],a,null):(0,o.get_all_dirty_from_scope)(t[6]),null),1&a&&(0,o.set_style)(e,"clip-path",t[0])},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function dt(t,e,n){let i,r,a,s,{$$slots:d={},$$scope:l}=e,{item:c}=e;const u=Q.get(c.id);return(0,o.component_subscribe)(t,u,(t=>n(5,s=t))),t.$$set=t=>{"item"in t&&n(2,c=t.item),"$$scope"in t&&n(6,l=t.$$scope)},t.$$.update=()=>{36&t.$$.dirty&&n(4,i=c.states[s]),16&t.$$.dirty&&n(3,r="ellipse"===i.clipPath),8&t.$$.dirty&&n(0,a=r?"ellipse(50% 50%)":void 0)},[a,u,c,r,i,s,l,d]}class lt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,dt,st,o.safe_not_equal,{item:2},at)}}const ct=lt;function ut(t){(0,o.append_styles)(t,"svelte-1cx7a5",".mondrian__fill-QARoMt{background-position:center;background-size:cover;inset:0;position:absolute;border-radius:inherit}")}function mt(t){let e;return{c(){e=(0,o.element)("div"),(0,o.attr)(e,"class","mondrian__fill-QARoMt"),(0,o.set_style)(e,"background-color",t[1]),(0,o.set_style)(e,"background-image",t[2]),(0,o.set_style)(e,"opacity",t[0].opacity)},m(t,n){(0,o.insert)(t,e,n)},p(t,n){2&n&&(0,o.set_style)(e,"background-color",t[1]),4&n&&(0,o.set_style)(e,"background-image",t[2]),1&n&&(0,o.set_style)(e,"opacity",t[0].opacity)},d(t){t&&(0,o.detach)(e)}}}function pt(t){let e,n=(null!=t[1]||null!=t[2])&&mt(t);return{c(){n&&n.c(),e=(0,o.empty)()},m(t,i){n&&n.m(t,i),(0,o.insert)(t,e,i)},p(t,[o]){null!=t[1]||null!=t[2]?n?n.p(t,o):(n=mt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e),n&&n.d(t)}}}function _t(t,e,n){let{assets:o}=e,{fill:i}=e,r=null,a=null;return t.$$set=t=>{"assets"in t&&n(3,o=t.assets),"fill"in t&&n(0,i=t.fill)},t.$$.update=()=>{if(9&t.$$.dirty)switch(i?.type){case"color":n(1,r=i.color),n(2,a=null);break;case"image":{n(1,r=null);const t=o?.[i.assetId];n(2,a=null==t?null:`url("${function(t){return`assets/${t.path}`}(t)}")`);break}default:n(1,r=n(2,a=null))}},[i,r,a,o]}class gt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,_t,pt,o.safe_not_equal,{assets:3,fill:0},ut)}}const ft=gt;function yt(t){(0,o.append_styles)(t,"svelte-pshm0o",".mondrian__item-1NJNNq{--mon-item-bounding-box-color:var(--mon-color-border-selected);--mon-item-bounding-box-inset:calc(-1 * var(--mon-item-border-width));position:absolute;z-index:1;height:max-content;width:max-content;pointer-events:var(--mon-item-pointer-events);box-sizing:border-box}.mondrian__item-1NJNNq::before{content:'';pointer-events:none;position:absolute;inset:var(--mon-item-bounding-box-inset, 0);outline:0 solid transparent;transition:outline 0.15s ease-in-out}.mondrian__item-1NJNNq.mondrian__--mon-dragging-3kGGAE{cursor:grab;opacity:0.3}.mondrian__item-1NJNNq.mondrian__--root-2RuROj{position:relative}.mondrian__item-1NJNNq.mondrian__--hidden-1ojSH1{display:none}.mondrian__item-1NJNNq:is(\n      .mondrian__--hover-wXM4Fh,\n      .mondrian__--selected-1zf_c6,\n      .mondrian__--dropping-into-1SZbuz,\n      [data-selectable-children]\n    )::before{outline:var(--bounding-box-thickness, 0) var(--bounding-box-style, solid)\n      var(--mon-item-bounding-box-color)}.mondrian__item-1NJNNq.mondrian__--hover-wXM4Fh{--bounding-box-thickness:var(--art-border-width-lg)}.mondrian__item-1NJNNq.mondrian__--selected-1zf_c6{--bounding-box-thickness:var(--art-border-width-md)}.mondrian__item-1NJNNq.mondrian__--dropping-into-1SZbuz{--bounding-box-thickness:var(--art-border-width-md);--bounding-box-style:dashed}.mondrian__item-1NJNNq[data-selectable-children]::before{--bounding-box-thickness:var(--art-border-width-lg);--bounding-box-style:dashed}.mondrian__item-1NJNNq.mondrian__--clickable-zRfa9z{cursor:pointer}.mondrian__item-1NJNNq:is(.mondrian__--selected-1zf_c6):hover{cursor:grab}.mondrian__item-1NJNNq:is(.mondrian__--selected-1zf_c6):active{cursor:grabbing}.mondrian__item-1NJNNq[data-mon-disabled],.mondrian__item-1NJNNq[data-mon-disabled] *{pointer-events:none !important}.mondrian__item-1NJNNq.mondrian__--debug-1qYUsh::after{content:attr(data-parent-id) '>' attr(data-item-id);position:absolute;bottom:0;right:0;overflow:hidden;white-space:nowrap;padding:var(--art-space-0-25) var(--art-space-0-5);font:1.1rem / 1 monospace;background-color:#f006;backdrop-filter:grayscale(100%) blur(3px);color:#000;border-radius:var(--art-border-radius-sm) 0 0 0;pointer-events:none}.mondrian__item-1NJNNq.mondrian__--preview-item-3vYCfk{--mon-item-pointer-events:none;position:static}.mondrian__item-1NJNNq:focus-visible{outline:none}.mon-app:not(.mon-meta-key-down, .mon-preview-active)\n    :is(\n      .mondrian__item-1NJNNq[data-item-type='group'] .mondrian__item-1NJNNq:not([data-selectable], .mondrian__--selected-1zf_c6)\n    ){--mon-item-pointer-events:none}.mondrian__item-1NJNNq[data-selectable]{--mon-item-pointer-events:auto}")}const bt=t=>({}),ht=t=>({}),vt=t=>({}),$t=t=>({});function At(t){let e,n;return e=new ft({props:{assets:t[0].assets,fill:t[23]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1&n[0]&&(o.assets=t[0].assets),8388608&n[0]&&(o.fill=t[23]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function wt(t){let e,n;return e=new ft({props:{assets:t[0].assets,fill:t[22]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1&n[0]&&(o.assets=t[0].assets),4194304&n[0]&&(o.fill=t[22]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function xt(t){let e,n,i,r=null!=t[23]&&At(t),a=null!=t[22]&&wt(t);return{c(){r&&r.c(),e=(0,o.space)(),a&&a.c(),n=(0,o.empty)()},m(t,s){r&&r.m(t,s),(0,o.insert)(t,e,s),a&&a.m(t,s),(0,o.insert)(t,n,s),i=!0},p(t,i){null!=t[23]?r?(r.p(t,i),8388608&i[0]&&(0,o.transition_in)(r,1)):(r=At(t),r.c(),(0,o.transition_in)(r,1),r.m(e.parentNode,e)):r&&((0,o.group_outros)(),(0,o.transition_out)(r,1,1,(()=>{r=null})),(0,o.check_outros)()),null!=t[22]?a?(a.p(t,i),4194304&i[0]&&(0,o.transition_in)(a,1)):(a=wt(t),a.c(),(0,o.transition_in)(a,1),a.m(n.parentNode,n)):a&&((0,o.group_outros)(),(0,o.transition_out)(a,1,1,(()=>{a=null})),(0,o.check_outros)())},i(t){i||((0,o.transition_in)(r),(0,o.transition_in)(a),i=!0)},o(t){(0,o.transition_out)(r),(0,o.transition_out)(a),i=!1},d(t){t&&((0,o.detach)(e),(0,o.detach)(n)),r&&r.d(t),a&&a.d(t)}}}function Ct(t){let e,n,i,r,a,s,d,l,c,u,m,p,_,g,f,y,b,h;n=new ct({props:{item:t[0],$$slots:{default:[xt]},$$scope:{ctx:t}}});const v=t[30].before,$=(0,o.create_slot)(v,t,t[36],$t),A=[t[17]];var w=t[2];function x(t,e){let n={};for(let t=0;t<A.length;t+=1)n=(0,o.assign)(n,A[t]);return void 0!==e&&131072&e[0]&&(n=(0,o.assign)(n,(0,o.get_spread_update)(A,[(0,o.get_spread_object)(t[17])]))),{props:n}}w&&(a=(0,o.construct_svelte_component)(w,x(t)));const C=t[30].after,N=(0,o.create_slot)(C,t,t[36],ht);let k=[{"data-item-type":d=t[0].type},{"data-item-id":l=t[0].id.slice(0,5)},{"data-parent-id":c=t[0].parentId.slice(0,5)},{"data-mon-disabled":u=!!t[7]||void 0},{"data-mon-item-id":m=t[0].id},{"data-selectable-children":p=t[12]||void 0},{"data-selectable":_=t[13]||void 0},{class:"mondrian__item-1NJNNq"},{tabindex:"-1"}],z={};for(let t=0;t<k.length;t+=1)z=(0,o.assign)(z,k[t]);return{c(){e=(0,o.element)(t[0].tagName??"div"),(0,o.create_component)(n.$$.fragment),i=(0,o.space)(),$&&$.c(),r=(0,o.space)(),a&&(0,o.create_component)(a.$$.fragment),s=(0,o.space)(),N&&N.c(),(0,o.set_dynamic_element_data)(t[0].tagName??"div")(e,z),(0,o.toggle_class)(e,"mondrian__--debug-1qYUsh",!1),(0,o.toggle_class)(e,"mondrian__--mon-dragging-3kGGAE",t[8]),(0,o.toggle_class)(e,"mondrian__--root-2RuROj",t[1]),(0,o.toggle_class)(e,"mondrian__--hidden-1ojSH1",!t[11]),(0,o.toggle_class)(e,"mondrian__--selected-1zf_c6",t[5]),(0,o.toggle_class)(e,"mondrian__--dropping-into-1SZbuz",t[9]),(0,o.toggle_class)(e,"mondrian__--hover-wXM4Fh",t[6]),(0,o.toggle_class)(e,"mondrian__--preview-item-3vYCfk",t[4]),(0,o.toggle_class)(e,"mondrian__--clickable-zRfa9z",t[16]),(0,o.set_style)(e,"--mon-item-border-width",t[14].border?.applied?`${t[14].border?.width.value}px`:"0px"),(0,o.set_style)(e,"padding",t[21]),(0,o.set_style)(e,"width",t[27]),(0,o.set_style)(e,"height",t[26]),(0,o.set_style)(e,"border",t[20]),(0,o.set_style)(e,"border-radius",t[19]),(0,o.set_style)(e,"top",t[24]),(0,o.set_style)(e,"left",t[25]),(0,o.set_style)(e,"z-index",t[18])},m(d,l){(0,o.insert)(d,e,l),(0,o.mount_component)(n,e,null),(0,o.append)(e,i),$&&$.m(e,null),(0,o.append)(e,r),a&&(0,o.mount_component)(a,e,null),(0,o.append)(e,s),N&&N.m(e,null),t[35](e),y=!0,b||(h=[(0,o.listen)(e,"mousedown",t[31]),(0,o.listen)(e,"click",t[32]),(0,o.listen)(e,"keydown",t[33]),(0,o.listen)(e,"keyup",t[34]),(0,o.action_destroyer)(g=t[10].call(null,e,{itemId:t[0].id,enabled:!t[7]})),(0,o.action_destroyer)(f=t[3].call(null,e,t[0]))],b=!0)},p(t,i){const r={};if(1&i[0]&&(r.item=t[0]),12582913&i[0]|32&i[1]&&(r.$$scope={dirty:i,ctx:t}),n.$set(r),$&&$.p&&(!y||32&i[1])&&(0,o.update_slot_base)($,v,t,t[36],y?(0,o.get_slot_changes)(v,t[36],i,vt):(0,o.get_all_dirty_from_scope)(t[36]),$t),4&i[0]&&w!==(w=t[2])){if(a){(0,o.group_outros)();const t=a;(0,o.transition_out)(t.$$.fragment,1,0,(()=>{(0,o.destroy_component)(t,1)})),(0,o.check_outros)()}w?(a=(0,o.construct_svelte_component)(w,x(t,i)),(0,o.create_component)(a.$$.fragment),(0,o.transition_in)(a.$$.fragment,1),(0,o.mount_component)(a,e,s)):a=null}else if(w){const e=131072&i[0]?(0,o.get_spread_update)(A,[(0,o.get_spread_object)(t[17])]):{};a.$set(e)}N&&N.p&&(!y||32&i[1])&&(0,o.update_slot_base)(N,C,t,t[36],y?(0,o.get_slot_changes)(C,t[36],i,bt):(0,o.get_all_dirty_from_scope)(t[36]),ht),(0,o.set_dynamic_element_data)(t[0].tagName??"div")(e,z=(0,o.get_spread_update)(k,[(!y||1&i[0]&&d!==(d=t[0].type))&&{"data-item-type":d},(!y||1&i[0]&&l!==(l=t[0].id.slice(0,5)))&&{"data-item-id":l},(!y||1&i[0]&&c!==(c=t[0].parentId.slice(0,5)))&&{"data-parent-id":c},(!y||128&i[0]&&u!==(u=!!t[7]||void 0))&&{"data-mon-disabled":u},(!y||1&i[0]&&m!==(m=t[0].id))&&{"data-mon-item-id":m},(!y||4096&i[0]&&p!==(p=t[12]||void 0))&&{"data-selectable-children":p},(!y||8192&i[0]&&_!==(_=t[13]||void 0))&&{"data-selectable":_},{class:"mondrian__item-1NJNNq"},{tabindex:"-1"}])),g&&(0,o.is_function)(g.update)&&129&i[0]&&g.update.call(null,{itemId:t[0].id,enabled:!t[7]}),f&&(0,o.is_function)(f.update)&&1&i[0]&&f.update.call(null,t[0]),(0,o.toggle_class)(e,"mondrian__--debug-1qYUsh",!1),(0,o.toggle_class)(e,"mondrian__--mon-dragging-3kGGAE",t[8]),(0,o.toggle_class)(e,"mondrian__--root-2RuROj",t[1]),(0,o.toggle_class)(e,"mondrian__--hidden-1ojSH1",!t[11]),(0,o.toggle_class)(e,"mondrian__--selected-1zf_c6",t[5]),(0,o.toggle_class)(e,"mondrian__--dropping-into-1SZbuz",t[9]),(0,o.toggle_class)(e,"mondrian__--hover-wXM4Fh",t[6]),(0,o.toggle_class)(e,"mondrian__--preview-item-3vYCfk",t[4]),(0,o.toggle_class)(e,"mondrian__--clickable-zRfa9z",t[16]),16384&i[0]&&(0,o.set_style)(e,"--mon-item-border-width",t[14].border?.applied?`${t[14].border?.width.value}px`:"0px"),2097152&i[0]&&(0,o.set_style)(e,"padding",t[21]),134217728&i[0]&&(0,o.set_style)(e,"width",t[27]),67108864&i[0]&&(0,o.set_style)(e,"height",t[26]),1048576&i[0]&&(0,o.set_style)(e,"border",t[20]),524288&i[0]&&(0,o.set_style)(e,"border-radius",t[19]),16777216&i[0]&&(0,o.set_style)(e,"top",t[24]),33554432&i[0]&&(0,o.set_style)(e,"left",t[25]),262144&i[0]&&(0,o.set_style)(e,"z-index",t[18])},i(t){y||((0,o.transition_in)(n.$$.fragment,t),(0,o.transition_in)($,t),a&&(0,o.transition_in)(a.$$.fragment,t),(0,o.transition_in)(N,t),y=!0)},o(t){(0,o.transition_out)(n.$$.fragment,t),(0,o.transition_out)($,t),a&&(0,o.transition_out)(a.$$.fragment,t),(0,o.transition_out)(N,t),y=!1},d(i){i&&(0,o.detach)(e),(0,o.destroy_component)(n),$&&$.d(i),a&&(0,o.destroy_component)(a),N&&N.d(i),t[35](null),b=!1,(0,o.run_all)(h)}}}function Nt(t){let e,n,i=t[0].tagName??"div",r=(t[0].tagName??"div")&&Ct(t);return{c(){r&&r.c(),e=(0,o.empty)()},m(t,i){r&&r.m(t,i),(0,o.insert)(t,e,i),n=!0},p(t,n){t[0].tagName??"div"?i?(0,o.safe_not_equal)(i,t[0].tagName??"div")?(r.d(1),r=Ct(t),i=t[0].tagName??"div",r.c(),r.m(e.parentNode,e)):r.p(t,n):(r=Ct(t),i=t[0].tagName??"div",r.c(),r.m(e.parentNode,e)):i&&(r.d(1),r=null,i=t[0].tagName??"div")},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function kt({event:t}){return"click"===t}function zt(t,e,n){let i,r,a,s,d,l,c,u,m,p,_,g,f,y,{$$slots:b={},$$scope:h}=e,{item:v}=e,{idx:$=0}=e,{isRoot:A=!1}=e,{ItemComponent:w}=e,{bindTriggers:x=(()=>{})}=e,{stateId:C}=e,{isPreviewItem:N=!1}=e,{isSelected:k=!1}=e,{isHovered:z=!1}=e,{isDisabled:I=!1}=e,{isDragging:S=!1}=e,{isDroppingInto:E=!1}=e,{hoverItem:M=(()=>{})}=e,{visible:q}=e,{selectableChildren:R=!1}=e,{selectable:j=!1}=e;return t.$$set=t=>{"item"in t&&n(0,v=t.item),"idx"in t&&n(28,$=t.idx),"isRoot"in t&&n(1,A=t.isRoot),"ItemComponent"in t&&n(2,w=t.ItemComponent),"bindTriggers"in t&&n(3,x=t.bindTriggers),"stateId"in t&&n(29,C=t.stateId),"isPreviewItem"in t&&n(4,N=t.isPreviewItem),"isSelected"in t&&n(5,k=t.isSelected),"isHovered"in t&&n(6,z=t.isHovered),"isDisabled"in t&&n(7,I=t.isDisabled),"isDragging"in t&&n(8,S=t.isDragging),"isDroppingInto"in t&&n(9,E=t.isDroppingInto),"hoverItem"in t&&n(10,M=t.hoverItem),"visible"in t&&n(11,q=t.visible),"selectableChildren"in t&&n(12,R=t.selectableChildren),"selectable"in t&&n(13,j=t.selectable),"$$scope"in t&&n(36,h=t.$$scope)},t.$$.update=()=>{536870913&t.$$.dirty[0]&&n(14,i=it(v,C)),16384&t.$$.dirty[0]&&n(27,r=rt(i.width)),16384&t.$$.dirty[0]&&n(26,a=rt(i.height)),16384&t.$$.dirty[0]&&n(25,s=rt(i.x)),16384&t.$$.dirty[0]&&n(24,d=rt(i.y)),16384&t.$$.dirty[0]&&n(23,l=i.fill),16384&t.$$.dirty[0]&&n(22,c=i.overlay),16384&t.$$.dirty[0]&&n(21,u=[i.padding.top,i.padding.right,i.padding.bottom,i.padding.left].map(rt).join(" ")),16384&t.$$.dirty[0]&&n(20,m=i.border?.applied?`${rt(i.border.width)} ${i.border.style} color-mix(in srgb, ${i.border.color} ${100*i.border.opacity}%, transparent)`:void 0),16384&t.$$.dirty[0]&&n(19,p=i.borderRadius.applied?rt(i.borderRadius.topLeft):void 0),268435456&t.$$.dirty[0]&&n(18,_=9999-$),536870913&t.$$.dirty[0]&&n(17,g=function(t,e){switch(t){case"text":case"shape":return{item:v,stateId:e};default:return{item:v}}}(v.type,C)),1&t.$$.dirty[0]&&n(16,f=v?.triggers.some(kt))},[v,A,w,x,N,k,z,I,S,E,M,q,R,j,i,y,f,g,_,p,m,u,c,l,d,s,a,r,$,C,b,function(e){o.bubble.call(this,t,e)},function(e){o.bubble.call(this,t,e)},function(e){o.bubble.call(this,t,e)},function(e){o.bubble.call(this,t,e)},function(t){o.binding_callbacks[t?"unshift":"push"]((()=>{y=t,n(15,y)}))},h]}class It extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,zt,Nt,o.safe_not_equal,{item:0,idx:28,isRoot:1,ItemComponent:2,bindTriggers:3,stateId:29,isPreviewItem:4,isSelected:5,isHovered:6,isDisabled:7,isDragging:8,isDroppingInto:9,hoverItem:10,visible:11,selectableChildren:12,selectable:13},yt,[-1,-1])}}const St=It;function Et(t){(0,o.append_styles)(t,"svelte-8e9hww",".mondrian__text-item-base-1VcMVC{display:flex;flex-direction:column;height:100%;min-height:inherit}.mondrian__text-item-base-1VcMVC[data-vertical-align='top']{justify-content:flex-start}.mondrian__text-item-base-1VcMVC[data-vertical-align='middle']{justify-content:center}.mondrian__text-item-base-1VcMVC[data-vertical-align='bottom']{justify-content:flex-end}.mondrian__text-item-base-1VcMVC .tiptap{height:auto}")}const Mt=t=>({item:1&t}),qt=t=>({item:t[0]});function Rt(t){let e,n,i;const r=t[4].default,a=(0,o.create_slot)(r,t,t[3],qt);return{c(){e=(0,o.element)("div"),a&&a.c(),(0,o.attr)(e,"class","mondrian__text-item-base-1VcMVC"),(0,o.attr)(e,"data-vertical-align",n=t[1].textVerticalAlign)},m(t,n){(0,o.insert)(t,e,n),a&&a.m(e,null),i=!0},p(t,[s]){a&&a.p&&(!i||9&s)&&(0,o.update_slot_base)(a,r,t,t[3],i?(0,o.get_slot_changes)(r,t[3],s,Mt):(0,o.get_all_dirty_from_scope)(t[3]),qt),(!i||2&s&&n!==(n=t[1].textVerticalAlign))&&(0,o.attr)(e,"data-vertical-align",n)},i(t){i||((0,o.transition_in)(a,t),i=!0)},o(t){(0,o.transition_out)(a,t),i=!1},d(t){t&&(0,o.detach)(e),a&&a.d(t)}}}function jt(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{item:a}=e,{stateId:s}=e;return t.$$set=t=>{"item"in t&&n(0,a=t.item),"stateId"in t&&n(2,s=t.stateId),"$$scope"in t&&n(3,r=t.$$scope)},t.$$.update=()=>{5&t.$$.dirty&&n(1,o=it(a,s))},[a,o,s,r,i]}class Lt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,jt,Rt,o.safe_not_equal,{item:0,stateId:2},Et)}}const Bt=Lt;o.SvelteComponent;var Jt=n(2604),Vt=n.n(Jt),Ht=n(101),Xt=n.n(Ht),Tt=n(5863),Dt=n.n(Tt),Yt=n(3124),Kt=n.n(Yt),Pt=n(6896),Ot=n.n(Pt),Ut=n(9917),Zt=n.n(Ut),Ft=n(4247),Gt={};Gt.styleTagTransform=Zt(),Gt.setAttributes=Kt(),Gt.insert=Dt().bind(null,"head"),Gt.domAPI=Xt(),Gt.insertStyleElement=Ot(),Vt()(Ft.A,Gt);const Wt=Ft.A&&Ft.A.locals?Ft.A.locals:void 0;var Qt=n(3948);const te=function(){const t=(0,G.writable)({blockuments:{},items:{},tiptap:{}}),{subscribe:e,set:n,update:o}=t,i=new Map;return{subscribe:e,set:n,update:o,addManifest:(t,e)=>{i.set(t,e),r()},removeManifest:t=>{i.delete(t),r()}};function r(){n(function(...t){const e={};for(const n of t)for(const[t,o]of Object.entries(n))e[t]=Object.assign({},e[t],o);return e}(...i.values()))}}();function ee(t){let e,n;return e=new Bt({props:{item:t[0],stateId:t[1],$$slots:{default:[ne]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};1&n&&(o.item=t[0]),2&n&&(o.stateId=t[1]),68&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function ne(t){let e,n,i,r=(0,Qt.Z)(t[2],F)+"";return{c(){e=(0,o.element)("div"),n=(0,o.element)("div"),(0,o.attr)(n,"class","tiptap"),(0,o.attr)(e,"class",i=Wt.textItem)},m(t,i){(0,o.insert)(t,e,i),(0,o.append)(e,n),n.innerHTML=r},p(t,e){4&e&&r!==(r=(0,Qt.Z)(t[2],F)+"")&&(n.innerHTML=r)},d(t){t&&(0,o.detach)(e)}}}function oe(t){let e,n,i=void 0!==t[2]&&ee(t);return{c(){i&&i.c(),e=(0,o.empty)()},m(t,r){i&&i.m(t,r),(0,o.insert)(t,e,r),n=!0},p(t,[n]){void 0!==t[2]?i?(i.p(t,n),4&n&&(0,o.transition_in)(i,1)):(i=ee(t),i.c(),(0,o.transition_in)(i,1),i.m(e.parentNode,e)):i&&((0,o.group_outros)(),(0,o.transition_out)(i,1,1,(()=>{i=null})),(0,o.check_outros)())},i(t){n||((0,o.transition_in)(i),n=!0)},o(t){(0,o.transition_out)(i),n=!1},d(t){t&&(0,o.detach)(e),i&&i.d(t)}}}function ie(t,e,n){let i,r,a,s;(0,o.component_subscribe)(t,te,(t=>n(5,s=t)));let{item:d}=e,{stateId:l}=e;return t.$$set=t=>{"item"in t&&n(0,d=t.item),"stateId"in t&&n(1,l=t.stateId)},t.$$.update=()=>{3&t.$$.dirty&&n(4,i=d.states[l]),16&t.$$.dirty&&n(3,r=i.text.id),40&t.$$.dirty&&n(2,a=s.tiptap?.[r])},[d,l,a,r,i,s]}class re extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,ie,oe,o.safe_not_equal,{item:0,stateId:1})}}const ae=re;function se(t){(0,o.append_styles)(t,"svelte-1vwx6yd",".mondrian__surface-3PSuzl{width:100%;position:relative}")}function de(t,e,n){const o=t.slice();return o[5]=e[n],o[7]=n,o}function le(t,e){let n,i,r,a;var s=e[0];function d(t,e){return{props:{idx:t[7],itemId:t[5].id}}}return s&&(i=(0,o.construct_svelte_component)(s,d(e))),{key:t,first:null,c(){n=(0,o.empty)(),i&&(0,o.create_component)(i.$$.fragment),r=(0,o.empty)(),this.first=n},m(t,e){(0,o.insert)(t,n,e),i&&(0,o.mount_component)(i,t,e),(0,o.insert)(t,r,e),a=!0},p(t,n){if(e=t,1&n&&s!==(s=e[0])){if(i){(0,o.group_outros)();const t=i;(0,o.transition_out)(t.$$.fragment,1,0,(()=>{(0,o.destroy_component)(t,1)})),(0,o.check_outros)()}s?(i=(0,o.construct_svelte_component)(s,d(e)),(0,o.create_component)(i.$$.fragment),(0,o.transition_in)(i.$$.fragment,1),(0,o.mount_component)(i,r.parentNode,r)):i=null}else if(s){const t={};2&n&&(t.idx=e[7]),2&n&&(t.itemId=e[5].id),i.$set(t)}},i(t){a||(i&&(0,o.transition_in)(i.$$.fragment,t),a=!0)},o(t){i&&(0,o.transition_out)(i.$$.fragment,t),a=!1},d(t){t&&((0,o.detach)(n),(0,o.detach)(r)),i&&(0,o.destroy_component)(i,t)}}}function ce(t){let e,n,i=[],r=new Map,a=(0,o.ensure_array_like)(t[1].children);const s=t=>t[5].id;for(let e=0;e<a.length;e+=1){let n=de(t,a,e),o=s(n);r.set(o,i[e]=le(o,n))}return{c(){e=(0,o.element)("div");for(let t=0;t<i.length;t+=1)i[t].c();(0,o.attr)(e,"class","mondrian__surface-3PSuzl")},m(t,r){(0,o.insert)(t,e,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);n=!0},p(t,[n]){3&n&&(a=(0,o.ensure_array_like)(t[1].children),(0,o.group_outros)(),i=(0,o.update_keyed_each)(i,n,s,1,t,a,r,e,o.outro_and_destroy_block,le,null,de),(0,o.check_outros)())},i(t){if(!n){for(let t=0;t<a.length;t+=1)(0,o.transition_in)(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)(0,o.transition_out)(i[t]);n=!1},d(t){t&&(0,o.detach)(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function ue(t,e,n){let i,r,{item:a}=e,{Item:s=be}=e;const d=Q.get(a.id);return(0,o.component_subscribe)(t,d,(t=>n(4,r=t))),t.$$set=t=>{"item"in t&&n(3,a=t.item),"Item"in t&&n(0,s=t.Item)},t.$$.update=()=>{24&t.$$.dirty&&n(1,i=a.states[r])},[s,i,d,a,r]}class me extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,ue,ce,o.safe_not_equal,{item:3,Item:0},se)}}const pe=me,_e=(t,e)=>{function n(n,o={}){e.triggers.filter((t=>t.event===n)).forEach((n=>{!function(t,e,n){e.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,t,{itemId:e.id,triggerId:n.id,...o})}))}const o=[...new Set(e.triggers.map((t=>t.event)))].map((e=>"hover"===e?[nt("mouseenter",t,(()=>{n(e,{hovered:!0})})),nt("mouseleave",t,(()=>{n(e,{hovered:!1})}))]:nt(e,t,(()=>{n(e)})))).flat(2).filter(Boolean);return{destroy(){o.forEach((t=>{t()}))}}};function ge(t){let e,n;return e=new St({props:{item:t[2],idx:t[0],isRoot:t[1],stateId:t[5],ItemComponent:t[4],bindTriggers:_e,visible:t[6]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,[n]){const o={};4&n&&(o.item=t[2]),1&n&&(o.idx=t[0]),2&n&&(o.isRoot=t[1]),32&n&&(o.stateId=t[5]),16&n&&(o.ItemComponent=t[4]),64&n&&(o.visible=t[6]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function fe(t,e,n){let i,r,a,s,l,c,u=o.noop;(0,o.component_subscribe)(t,te,(t=>n(9,s=t))),t.$$.on_destroy.push((()=>u()));let{itemId:m}=e,{idx:p=0}=e,{isRoot:_=!1}=e;const g=et.get(m);return(0,o.component_subscribe)(t,g,(t=>n(6,c=t))),t.$$set=t=>{"itemId"in t&&n(8,m=t.itemId),"idx"in t&&n(0,p=t.idx),"isRoot"in t&&n(1,_=t.isRoot)},t.$$.update=()=>{768&t.$$.dirty&&n(2,i=s.items[m]),4&t.$$.dirty&&n(4,r=(t=>({image:()=>d,text:()=>ae,group:()=>pe,shape:()=>ae}[t.type]()))(i)),4&t.$$.dirty&&(n(3,a=Q.get(i.id)),u(),u=(0,o.subscribe)(a,(t=>n(5,l=t))))},[p,_,i,a,r,l,c,g,m,s]}class ye extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,fe,ge,o.safe_not_equal,{itemId:8,idx:0,isRoot:1})}}const be=ye;n(2466);var he=n(9205);const ve=n.n(he)()("mondrian").extend("keyboard"),$e=(Object.freeze(["Alt","Control","Meta","Shift"]),{activeModifierKeys:new Set,get alt(){return $e.activeModifierKeys.has("Alt")},get meta(){return $e.activeModifierKeys.has("Meta")||$e.activeModifierKeys.has("Control")},get shift(){return $e.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[$e.meta&&"Meta",$e.alt&&"Alt",$e.shift&&"Shift",$e.key].filter(Boolean).join("+")}}),Ae={...(0,G.readable)($e,(t=>{function e(e){const n="keydown"===e.type,o=$e.activeModifierKeys;e.metaKey?o.add("Meta"):o.delete("Meta"),e.altKey?o.add("Alt"):o.delete("Alt"),e.shiftKey?o.add("Shift"):o.delete("Shift"),e.ctrlKey?o.add("Control"):o.delete("Control"),$e.key=n?e.key:void 0,t($e)}function n(){"hidden"===document.visibilityState&&($e.activeModifierKeys.clear(),$e.key=void 0,t($e))}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),document.addEventListener("visibilitychange",n),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",e),document.removeEventListener("visibilitychange",n)}})),is:t=>($e.combo&&ve(`comparing keycombos, store: ${$e.combo}, comparison: ${t}`),$e.combo.toLowerCase()===t.toLowerCase()),on(t,e){const n=n=>{Ae.is(t)&&(ve("keyCombo matched, executing handler",t),e(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},reset(){$e.activeModifierKeys.clear(),$e.key=void 0}},we={down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1},xe=((0,G.readable)(we,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",o),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",n)};function e(t){we.down=!0,we.downX=we.x=t.clientX,we.downY=we.y=t.clientY,we.target=t.target,i()}function n(){we.down=!1,we.downX=we.x=we.downY=we.y=-1,we.target=void 0,i()}function o(t){we.x=t.x,we.y=t.y,i()}function i(){t(we)}})),"mondrian-suspense");function Ce(t){(0,o.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}o.SvelteComponent,n(9777),o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,n(2732),o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent;const Ne=t=>({isLoading:1&t}),ke=t=>({isLoading:t[0]});function ze(t){let e,n;const i=t[2].default,r=(0,o.create_slot)(i,t,t[1],ke);return{c(){e=(0,o.element)("div"),r&&r.c(),(0,o.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,o.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,i){(0,o.insert)(t,e,i),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||3&a)&&(0,o.update_slot_base)(r,i,t,t[1],n?(0,o.get_slot_changes)(i,t[1],a,Ne):(0,o.get_all_dirty_from_scope)(t[1]),ke),(!n||1&a)&&(0,o.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function Ie(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=function(){const t=new Set;return(0,l.setContext)(xe,t),t}();let a=!0;return(0,l.onMount)((()=>{Promise.all(r).then((()=>{n(0,a=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,i=t.$$scope)},[a,i,o]}class Se extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Ie,ze,o.safe_not_equal,{},Ce)}}const Ee=Se;o.SvelteComponent,o.SvelteComponent;const Me={[E](t,e,n,o){const i="self"===t.targetId?n:o[t.targetId];!1===e.hovered?Q.get(i.id)?.revert():Q.get(i.id)?.set(t.targetState)},[M](t,e,n,o){const i="self"===t.targetId?n:o[t.targetId];!1===e.hovered?et.get(i.id)?.set(!t.targetVisibility):et.get(i.id)?.set(t.targetVisibility)}},qe=(t,e)=>{const n=nt("trigger",t,(t=>{const{itemId:n,triggerId:o,...i}=t.detail,r=e[n];if(!r)throw new Error(`Could not execute trigger ${o} on item ${n} because the item could not be found.`);const a=r?.triggers.find((t=>t.id===o));if(!a)throw new Error(`Could not execute trigger ${o} on item ${n} because the trigger could not be found.`);const s=Me[a.action];if(!s)throw new Error(`Could not execute trigger ${o} on item ${n} because an appropriate handler for its '${a.action}' action could not be found.`);s(a,i,r,e)}));return{destroy(){n()}}};function Re(t){(0,o.append_styles)(t,"svelte-c9d0p3",".mondrian__preview-2O3gXR{display:flex;justify-content:center;position:relative;z-index:0;overflow:hidden}.mondrian__preview--empty-37mLUA{background-color:var(--art-color-neutral-050)}")}function je(t){let e,n;return e=new Ee({props:{$$slots:{default:[Be]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};258&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Le(t){let e,n,i,r;return{c(){e=(0,o.element)("div"),n=(0,o.text)("Block "),i=(0,o.text)(t[0]),r=(0,o.text)(" could not be loaded")},m(t,a){(0,o.insert)(t,e,a),(0,o.append)(e,n),(0,o.append)(e,i),(0,o.append)(e,r)},p(t,e){1&e&&(0,o.set_data)(i,t[0])},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e)}}}function Be(t){let e,n,i,r,a,s;return n=new be({props:{itemId:t[7].id,isRoot:!0}}),{c(){e=(0,o.element)("div"),(0,o.create_component)(n.$$.fragment),(0,o.attr)(e,"class","mondrian__preview-2O3gXR"),(0,o.toggle_class)(e,"mondrian__preview--empty-37mLUA",t[1])},m(d,l){(0,o.insert)(d,e,l),(0,o.mount_component)(n,e,null),r=!0,a||(s=(0,o.action_destroyer)(i=qe.call(null,e,t[3])),a=!0)},p(t,n){(!r||2&n)&&(0,o.toggle_class)(e,"mondrian__preview--empty-37mLUA",t[1])},i(t){r||((0,o.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,o.transition_out)(n.$$.fragment,t),r=!1},d(t){t&&(0,o.detach)(e),(0,o.destroy_component)(n),a=!1,s()}}}function Je(t){let e,n,i,r;const a=[Le,je],s=[];function d(t,e){return 1===e?function(t){const e=t.slice(),n=e[3][e[4]];return e[7]=n,e}(t):t}return e=function(t,e){return void 0===t[2]||void 0===t[4]?0:1}(t),n=s[e]=a[e](d(t,e)),{c(){n.c(),i=(0,o.empty)()},m(t,n){s[e].m(t,n),(0,o.insert)(t,i,n),r=!0},p(t,[o]){n.p(d(t,e),o)},i(t){r||((0,o.transition_in)(n),r=!0)},o(t){(0,o.transition_out)(n),r=!1},d(t){t&&(0,o.detach)(i),s[e].d(t)}}}function Ve(t,e,n){let o,{manifest:i}=e,{blockumentId:r}=e;const a=Symbol("LearnComponent"),s=i.blockuments?.[r],d=i.items??{},c=s?.children[0]?.id;return te.addManifest(a,i),Object.values(d).forEach((t=>{Q.add(t.id,(0,G.readable)(t.initialState)),et.add(t.id,(0,G.readable)(t.initialVisible))})),(0,l.onMount)((()=>{Q.resetAll(),et.resetAll()})),(0,l.onDestroy)((()=>{te.removeManifest(a)})),t.$$set=t=>{"manifest"in t&&n(5,i=t.manifest),"blockumentId"in t&&n(0,r=t.blockumentId)},n(1,o=1===Object.keys(d).length),[r,o,s,d,c,i]}class He extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Ve,Je,o.safe_not_equal,{manifest:5,blockumentId:0},Re)}}const Xe=He;var Te=n(2834),De=n.n(Te);const Ye=((t,e={},n="div")=>o=>{const i=(0,Te.useRef)(null),r=(0,Te.useRef)(null),[a,s]=(0,Te.useState)(!1);return(0,Te.useEffect)((()=>{const e=/on([A-Z]{1,}[a-zA-Z]*)/,n=/watch([A-Z]{1,}[a-zA-Z]*)/;r.current=new t({target:i.current,props:o});const a=[];for(const t in o){const i=t.match(e),s=t.match(n);null!=i&&"function"==typeof o[t]&&r.current.$on(`${i[1][0].toLowerCase()}${i[1].slice(1)}`,o[t]),null!=s&&"function"==typeof o[t]&&a.push([`${s[1][0].toLowerCase()}${s[1].slice(1)}`,o[t]])}if(a.length>0){const t=r.current.$$.update;r.current.$$.update=function(){a.forEach((([t,e])=>{if(null!==r.current){const n=r.current.$$.props[t];e(r.current.$$.ctx[n])}})),t.apply(null)}}return()=>{null!==r.current&&r.current.$destroy()}}),[o]),(0,Te.useEffect)((()=>{a?null!==r.current&&r.current.$set(o):s(!0)}),[o,a]),De().createElement(n,{ref:i,style:e})})(Xe),Ke=t=>De().createElement(Ye,{...t})}}]);
//# sourceMappingURL=be408434.js.map